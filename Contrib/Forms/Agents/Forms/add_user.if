<!doctype html public "-//IETF//DTD HTML//EN//2.0">
<html><head>
<title>Forms home page</title>
</head><body bgcolor="#ffffff" link="#c40026" vlink="#e40026">
<set entity name=title>Add User</set>
<read interform file="heading.inc" process>

<tagset-load name=Form-agent-actors>
<if><get form name=uid><then>
<set name=uid><get form name=uid></set></then>
<else> <set name=uid><get trans name=AuthenticatedUser></set></else>
</if>
<if-in-group group=admin>
</if-in-group>

<form action="&url;" process copy method=post>
 <process copy>
 <set agent name=users key=&uid;><user>
 <userid><get name=uid></userid>
 <username><get form name=username></username>
 <userdept><get form name=userdept></userdept>
 <userext><get form name=userext></userext>
 <userpublickey> </userpublickey>
</user></set>
 Thanks for registering.  If this information is correct, please <a
 href="register.if?user=&uid;"> click here</a> to complete registration by creating your digital key.
 <save-data data=users>
 <dept-add-member department=&FORM.userdept; member=&uid;>
 <save-data data=departments>
 </process>
<h2> Registering new user</h2>
 <set name=u><get agent name=users key=&uid;></set>
 <if><get name=u> <then></then> <else><set name=u><user> </user></set></else></if>
 <table>
<TR><TD>user-id: <TD><get name=uid><input name="uid" type=hidden value=&uid;>
<TR><TD> Full name:<TD><input name="username" size="30" value=&u.username.Text;>

<TR> <TD> <a href=show_depts.if>Department:</a><TD><select
     name="userdept"><option><get index=u.userdept.Text></option> <repeat list=&AGENT.departments.keys;> <option><get name=li></option></repeat>
</select>
<TR> <TD>Phone extension:<TD><input name="userext" size="3" value=&u.userext.Text;>
</table>
<input type="SUBMIT" value="Register User">
</form>



<hr>
<expand><get agent name=navbar></expand>
<b>Copyright © 1998 Ricoh Silicon Valley</b><br>
<!-- $Id$ -->
</body></html>
