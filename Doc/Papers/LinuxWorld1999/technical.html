<!doctype html public "-//IETF//DTD HTML//EN//2.0">
<html><head>
<title>Technical Details</title>
<link rev="made" href="mailto:steve@rsv.ricoh.com">
</head><body>
<h1>Technical Details</h1>
<include src=config.inc>

<slide><h2>What do people do with documents?</h2>
<ul>
  <li> <strong>Fill out and process forms</strong>
       <ul>
	 <li> checks, purchase requests, approvals
	 <li> <em>Sometimes ``processing'' = signing.</em>
       </ul>
  <li> Create and sign legal documents
  <li> Edit and publish manuscripts
  <li> Memos: send, recieve, copy, file, ...
  <li> Letters, bills, junk mail, magazines, postit notes, ...
</ul>

<p> Processing:
<ul>
  <li> signing: approving, authorizing, ...
  <li> storing: indexing, filing, stacking, boxing, ...
  <li> retrieving: searching, skimming, ...
  <li> excerpting, annotating, summarizing, ...
  <li> presenting, performing, parodying, ...
</ul>

</slide>

<slide><h2>Example: form processing</h2>
<div align=center> <b>Check Approval Form</b>
</div>

<form>
  <table>
   <tr><td align=right>Requestor:  <td><input name=name value="Stephen Savitzky">
   <tr><td align=right>Amount:     <td><input name=amt value="2300">
   <tr><td align=right>Item:       <td><input name=amt width=30 value="Laptop computer">
   <tr><td align=right>Reference:  <td><a href=/forms/PR/1024>PR-1999-02-29-0100</a>
   <tr><td align=right>Name: <td> <input name=name value="Greg Wolff">
   <tr><td align=right>Sign: <td> <input name=pass>
   <tr><td align=right><input type=submit value="Route to">:
       <td> <input name=next value="Peter Hart">
</form>

</slide>

<slide><h2>Processing</h2>
<ul>
  <li> <b>Assembling the Form</b>
       <ul>
	 <li> Extract basic info from PR (XML)
	 <li> Get full names from <code>/etc/passwd</code> (text)
	 <li> Construct form (HTML)
       </ul>
  <li> <b>Handling the form</b>
       <ul>
	 <li> Verify digital signature
	 <li> Update database
	 <li> Send e-mail to next person in route
	 <li> Construct response page (HTML)
       </ul>
</ul>
<em>That's a lot of PERL code, isn't it?</em>
<ul>
  <li> <b>Normally at least 2 CGI scripts</b>
</ul>
</slide>

<slide><h2>Now how about adding a field?</h2>

The purchasing agent needs the vendor's name and number:

<form>
  <table>
   <tr><td align=right>Vendor:  <td><input name=vendor value="">
   <tr><td align=right>Phone:   <td><input name=vphone value="">
  </table>
</form>

<em>OK, our office manager knows HTML...</em>

<pre>
   &lt;tr&gt;&lt;td align=right&gt;Vendor:  &lt;td&gt;&lt;input name=vendor&gt;
   &lt;tr&gt;&lt;td align=right&gt;Phone:   &lt;td&gt;&lt;input name=vphone&gt;
</pre>
</slide>

<slide><h2>It's not that simple!</h2>
<ul>
  <li> <b>Add field to the HTML</b>
       <ul>
	 <li> oh yeah; that was generated by a script
       </ul>
  <li> <b>Well, first you learn PERL</b>
       <ul>
	 <li> haul out the books
	 <li> study the code
	 <li> <em>what</em> documentation?
       </ul>
  <li> <b>Add processing for the new field</b>
       <ul>
	 <li> haul out the books again
       </ul>
  <li> <b>Did we mention debugging?</b>
</ul>
<em>Our office manager isn't going to like this...</em>
</slide>


<slide><h2>The Problem</h2>
<em>It all goes back to the nature of documents:</em>
<ul>
  <li> Software and documents are in separate files<br>
      <ul>
	 <li>  with different languages
       </ul>
  <li> Developing applications requires software<br>
       <ul>
	 <li> <em>There's never a programmer around when you need one.</em>
       </ul>
       <p>
</ul>
Also,
<ul>
  <li> Applications and documents change
       <ul>
	 <li> programs must be maintained
	 <li> documents must be updated
	 <li> it's hard to keep them in sync.
       </ul>
</ul>
</slide>

<slide><h2>How <em>we</em> do it</h2>
<ul><!-- === needs a lot of work:  central -->
  <li> <b>Everything is a document</b>
       <ul>
	 <li> All information is XML --
	      easy to parse and extract
	 <li> All <em>actions</em> are XML --
	      <em>embedded</em> in the form itself
       </ul>
  <li> <b>A document can contain its own processing instructions</b>
       <ul>
	 <li> No separate CGI scripts!
       </ul>
  <li> <b>Everything needed for a form is in <em>one file</em> and <em>one language</em></b>
</ul>
</slide>

<slide><h2>Here's how we build a form:</h2>
<ul>
  <li> <font color=green>HTML</font> and processing instructions
       <pre>
<font color=green>&lt;form action='&amp;url;&gt;</font>    
  &lt;set name=vendor>&lt;get name=PR:vendor&gt;&lt;/set&gt;
<font color=green>    &lt;!-- ... --&gt;
  Vendor: &lt;input name=vendor value=&amp;vendor;&gt;&lt;br&gt;
  Phone: &lt;input name=vphone value=&amp;vphone;&gt;</font>
  &lt;process&gt;
    &lt;if&gt;&lt;get name=approved&gt; 
       &lt;then&gt; &lt;send-email dst=purchasing&gt;
		 <font color=green>&lt;!-- ... --&gt; 
		 Vendor: &amp;FORM:vendor;
                 Phone: &amp;FORM:vphone;.</font>
	      &lt;/send-email&gt;
       &lt;/then&gt;
    &lt;/if&gt;       
  &lt;/process&gt;
<font color=green>&lt;/form&gt;</font>
       </pre>
</ul>
</slide>

<slide><h2>An Application is a Web Site</h2>

<p>&nbsp;

<p>You access a form through its URL:
<p>&nbsp;

<table cellspacing=0 cellpadding=2 border=0 align=center>
  <tr>  <td>&nbsp;
	<th bgcolor=lightblue> Software layer
	<th bgcolor=lightgreen colspan=2> Infoware layer
	<td>&nbsp;
  <tr>	<th>&lt;</th>
	<th bgcolor=lightblue>http://forms.crc.ricoh.com</th>
	<th bgcolor=lightgreen>/Purchasing</th>
	<th bgcolor=lightgreen>/check-approval</th>
	<th>&gt;</th>
  <tr>  <td>&nbsp;
	<td bgcolor=lightblue> web server
	<td bgcolor=lightgreen>directory
	<td bgcolor=lightgreen>file
	<td>&nbsp;
  <tr>  <td>&nbsp;
	<td bgcolor=lightblue> <em>agency</em>
	<td bgcolor=lightgreen><em>agent</em>
	<td bgcolor=lightgreen><em>active document</em>
	<td>&nbsp;
</table>

<dl>
  <dt> The PIA makes an application into a web site
  <dd> most of the application consists of ``<em>active documents</em>''
       <ul>
	 <li> it's a web site for the <em>author</em>
	 <li> as well as the user.
       </ul>
  <dt> Tasks are performed by ``<em>agents</em>''
  <dd> which look like top-level directories on the server.
</dl>

</slide>

<slide><h2>For example...</h2>

<p> Here's a typical ``active document''

<pre><font color=green>
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt; Hello world!&lt;title&gt;
  &lt;/head&gt;
  &lt;body&gt;</font>
    &lt;header&gt; a classic example &lt;/header&gt;<font color=green>
    &lt;hr&gt;
    Hello world!</font>
    &lt;footer cvsid="$ Id... $"&gt;<font color=green>
  &lt;/body&gt;
&lt;/html&gt;</font>
</pre>

...which becomes <a href="/demo/hello-world">this page on the server</a>.
(<a href="Images/hello-world.html">local copy</a>)<br>
(<a href="appendices.slides.html#previewer">another example</a>)
</slide>


<slide><h2>The Platform</h2>
<dl>
  <dt> What we've done is create a <strong>platform</strong>
  <dd> for computing with (active) documents.
</dl>

<table width='90%' cellspacing=0 border=0 align=center>
  <tr><th bgcolor="#c40026"> PIA
      <th> Platform for Information Applications
  <tr><th>&nbsp;
      <td>
<table  width='100%'cellspacing=0 border=0>
  <tr> <th bgcolor=lightgreen colspan=2> Infoware Layer
  <tr> <th bgcolor=lightgreen> Agents:
       <td bgcolor=lightgreen> 
	 Collections of active documents 
  <tr>
  <tr> <th bgcolor=lightblue colspan=2> Software Layer
  <tr> <th bgcolor=lightblue>Agency:
       <td bgcolor=lightblue>
	  Web server and Document processor
  <tr>
  <tr> <th bgcolor=lightblue>hooks:
       <td bgcolor=lightblue>
	  Agent and tag API's
</table>
</table>

<dl>
  <dt> Developing information applications
  <dd> becomes as simple as developing web pages
</dl>

</slide>


<slide><h2>The Infoware Layer</h2>
<p>&nbsp;
<table width='80%' cellspacing=0 border=0 align=center>
  <tr><th bgcolor="#c40026"> PIA
      <th> Platform for Information Applications
  <tr> <th bgcolor=lightgreen colspan=3> Infoware Layer
  <tr> <th bgcolor=lightgreen colspan=3 valign=top align=left> Agents:
  <tr> <th bgcolor=lightgreen>&nbsp;
       <td bgcolor=white>
<ul>
  <li> <b>An application looks like a website</b>
  <li> <b>Each agent looks like a directory</b>
       <ul>
	 <li> everything is done using active documents
       </ul>
  <li> <b>Documents can have embedded action tags</b>
       <ul>
	 <li> <em>everything</em> uses XML syntax.
	 <li> only one language to learn.
       </ul>
</ul>
       <th bgcolor=lightgreen>&nbsp;
  <tr> <th bgcolor=lightgreen colspan=3>&nbsp;
  <tr>
  <tr> <th bgcolor=lightblue colspan=3> Software Layer
</table>
</slide>


<slide><h2>The Software Layer</h2>
<p>&nbsp;
<table width='80%' border=0 cellspacing=0 align=center>
  <tr><th bgcolor="#c40026"> PIA
      <th> Platform for Information Applications
  <tr> <th bgcolor=lightgreen colspan=3> Infoware Layer
  <tr>
  <tr> <th bgcolor=lightblue colspan=3> Software Layer
  <tr> <th bgcolor=lightblue colspan=3 valign=top align=left>Agency:
  <tr> <th bgcolor=lightblue>&nbsp;
       <td bgcolor=white>
<ul>
  <li> <b>Document Processor</b>
       <ul>
	 <li> Assigns meaning to &lt;tags&gt;
	 <li> Driven by a <em>tagset</em> document
       </ul>
  <li> <b>Web server</b>
       <ul>
	 <li> Routes requests to appropriate agents
	 <li> Allows agents to modify documents
       </ul>
</ul>
       <th bgcolor=lightblue>&nbsp;
  <tr>
  <tr> <th bgcolor=lightblue colspan=3 align=left>hooks:
  <tr> <th bgcolor=lightblue>&nbsp;
       <td bgcolor=white>
<ul>
  <li> Agent API for documents
  <li> Action API for tags
</ul>  
       <th bgcolor=lightblue>&nbsp;
  <tr> <th bgcolor=lightblue colspan=3>&nbsp;
</table>
</slide>

<slide><h2>Advantages: Software</h2>
<table width='80%' cellspacing=0 border=0 align=center>
  <tr> <th bgcolor=lightgreen colspan=3> Infoware Layer
  <tr>
  <tr> <th bgcolor=lightblue colspan=3> Software Layer
  <tr> <th bgcolor=lightblue>&nbsp;
       <td bgcolor=white>
<ul>
  <li> <b>Simple</b>
       <ul>
	 <li> <a href="appendices.slides.html#main-loop">main loop</a>
	      is one page of code
	 <li> hooks for special-purpose code: easy to extend
       </ul>
  <li> <b>Highly portable</b>
       <ul>
	 <li> written in Java
	 <li> based on standards: XML, DOM, HTTP ...
	 <li> Linux on Intel, Sun (SPARC), Corel (ARM)
	 <li> Windows, Solaris, ...
       </ul>
  <li> <b>Efficient</b>
       <ul>
	 <li> can save memory in pass-through mode
	 <li> or cache document parse trees for speed
       </ul>
</ul>
       <th bgcolor=lightblue>&nbsp;
  <tr> <th bgcolor=lightblue colspan=3> &nbsp;
</table>
</slide>


<slide><h2>Cool Stuff</h2>
<p> There's lots more cool stuff I haven't mentioned.
<p>&nbsp;
<table width='80%' cellspacing=0 border=0 align=center>
  <tr> <th bgcolor=lightgreen colspan=3> Infoware Layer
  <tr> <th bgcolor=lightgreen colspan=3 valign=top align=left> Agents:
  <tr> <th bgcolor=lightgreen>&nbsp;
       <td bgcolor=white>
<ul>
  <li> You can use other servers as resources
  <li> ...and reprocess their documents
  <li> The tag language is highly extensible
</ul>
       <th bgcolor=lightgreen>&nbsp;
  <tr> <th bgcolor=lightgreen colspan=3>&nbsp;
  <tr>
  <tr> <th bgcolor=lightblue colspan=3> Software Layer
  <tr> <th bgcolor=lightblue colspan=3 valign=top align=left>Agency:
  <tr> <th bgcolor=lightblue>&nbsp;
       <td bgcolor=white>
<ul>
  <li> There are plenty of hooks in the code
  <li> ...for hanging special-purpose software
</ul>
       <th bgcolor=lightblue>&nbsp;
  <tr> <th bgcolor=lightblue colspan=3> &nbsp;
</table>
</slide>


<slide><h2>A Framework for Infoware</h2>

<p> The PIA is what we sometimes call a ``<strong>framework</strong>:''
<ul>
  <li> <strong>A re-useable design for a class of applications.</strong> 
</ul>

<table width='80%' cellspacing=0 border=0 align=center>
  <tr> <th bgcolor=lightgreen colspan=3> Infoware Layer
  <tr> <th bgcolor=lightgreen colspan=3 valign=top align=left> Agents:
  <tr> <th bgcolor=lightgreen>&nbsp;
       <td bgcolor=white>
<ul>
  <li> Building applications is <em>really easy</em>
  <li> ...because active documents are easy to write
</ul>
       <th bgcolor=lightgreen>&nbsp;
  <tr> <th bgcolor=lightgreen colspan=3>&nbsp;
  <tr>
  <tr> <th bgcolor=lightblue colspan=3> Software Layer
  <tr> <th bgcolor=lightblue colspan=3 valign=top align=left>Agency:
  <tr> <th bgcolor=lightblue>&nbsp;
       <td bgcolor=white>
<ul>
  <li> The software base is stable
  <li> ...and shared by all applications
</ul>
       <th bgcolor=lightblue>&nbsp;
  <tr> <th bgcolor=lightblue colspan=3> &nbsp;
</table>
</slide>

<em>So now let's look at the applications...</em>
<hr>
<b>Copyright &copy; 1999 Ricoh Silicon Valley</b><br>
<b>$Id$</b><br>
<address><a href="http://rsv.ricoh.com/~steve/"
         >Stephen R. Savitzky</a> &lt;<a href="mailto:steve@rsv.ricoh.com"
         >steve@rsv.ricoh.com</a>&gt;</address>
</body></html>
